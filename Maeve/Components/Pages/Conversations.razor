@page "/conversations"
@using Maeve.Conversations

@inject IConversationManager ConversationManager
@inject NavigationManager NavigationManager

@code {
    
    // - Functions

    protected override async Task OnInitializedAsync() {
        var conversationContext = ConversationManager.ActiveConversations.FirstOrDefault();
        if (conversationContext != null) {
            NavigationManager.NavigateTo($"/conversations/{conversationContext.Id}");
            return;
        }
        
        var conversation = ConversationManager.Conversations.FirstOrDefault();
        if (conversation != null) {
            NavigationManager.NavigateTo($"/conversations/{conversation.Id}");
            return;
        }
        
        NavigationManager.NavigateTo("/");
    }

}
